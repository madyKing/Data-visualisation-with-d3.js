<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Loading data from an external file</title>
    <script src="https://d3js.org/d3.v4.min.js">

    </script>
  </head>

  <body>

    <script>

        d3.json("mydata.json", function(data) {

            var svg = d3.select("body")
                        .append("svg")
                        .attr("width", 500)
                        .attr("height", 500);

            var color = ["blue", "yellow", "red", "green", "purple"];

            svg.selectAll("rect")
               .data(data)
               .enter()
                 .append("rect")
                 .attr("width", function(d) { return d.age*10; })
                 .attr("height", 47)
                 .attr("y", function(d, i) { return i*50; })
                 .attr("fill", function(d, i) { return color[i];});

            svg.selectAll('text')
               .data(data)
               .enter()
                 .append('text')
                 .attr('fill', 'maroon')
                 .attr('y',function(d,i) { return i*50 + 28})
                 .text(function(d) {return d.name});

        })
    </script>

  </body>
</html>
